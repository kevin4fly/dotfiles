" Note: Skip initialization for vim-tiny or vim-small.
if !1 | finish | endif

function! s:source_rc(path)
  execute 'source' fnameescape(expand('~/.vim/rc/' . a:path))
endfunction

if has('vim_starting')
  " recommanded
  set nocompatible
  " required
  set runtimepath+=~/.vim/bundle/neobundle/
endif

set runtimepath+=~/.vim/bundle/
" Use git protocol.
let g:neobundle#types#git#default_protocol = 'git'

" call s:source_rc('init.rc.vim')
let s:bundles_path = expand('~/.vim/bundle')
call neobundle#begin(s:bundles_path)

if neobundle#has_cache()
  NeoBundleLoadCache
else
  call s:source_rc('neobundle.rc.vim')
  NeoBundleSaveCache
endif

NeoBundleLocal ~/.vim/local_bundle

call neobundle#end()

" required!
filetype plugin indent on

" Installation check.
NeoBundleCheck

" helper function
call s:source_rc('helper.rc.vim')

" general
call s:source_rc('general.rc.vim')

" interface
call s:source_rc('interface.rc.vim')

" view (buffer, windown and tab)
call s:source_rc('view.rc.vim')

" tag and cscope
call s:source_rc('tags.rc.vim')

" plugin settings
call s:source_rc('plugins.rc.vim')

" vim:tw=78:ts=2:sw=2:sts=2:et:fdm=marker
